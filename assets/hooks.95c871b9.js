import{g as D,c as L,s as B,b as g,r as u,u as U,a as j,j as h,h as O,i as K,v as M,$ as se,w as V,l as le,a9 as ce,k as ie,f as ue,x as de,R as e,G as E,y as P,K as pe,L as me,M as fe}from"./index.1eab7063.js";import{S as he,a as H}from"./index.b3db0952.js";import{e as ge,q as ye,b as I}from"./TextField.6811b63f.js";import{u as y,T as Q,c as W,d as J,e as $,f as Y,b as Z,a as Ee}from"./utils.80cbc659.js";import{P as xe,T as z}from"./Typography.e1c77328.js";import{T as s,I as X}from"./TableCell.bd2234fc.js";import{l as ee}from"./lodash.73629d66.js";function ve(t){return D("MuiFormGroup",t)}L("MuiFormGroup",["root","row","error"]);const Ce=["className","row"],Re=t=>{const{classes:o,row:a,error:n}=t;return K({root:["root",a&&"row",n&&"error"]},ve,o)},ke=B("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:a}=t;return[o.root,a.row&&o.row]}})(({ownerState:t})=>g({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),be=u.exports.forwardRef(function(o,a){const n=U({props:o,name:"MuiFormGroup"}),{className:r,row:i=!1}=n,l=j(n,Ce),d=ge(),p=ye({props:n,muiFormControl:d,states:["error"]}),c=g({},n,{row:i,error:p.error}),m=Re(c);return h.jsx(ke,g({className:O(m.root,r),ownerState:c,ref:a},l))}),Se=be,Fe=M(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),we=M(h.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Be=B("span")({position:"relative",display:"flex"}),qe=B(Fe)({transform:"scale(1)"}),Ie=B(we)(({theme:t,ownerState:o})=>g({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},o.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function te(t){const{checked:o=!1,classes:a={},fontSize:n}=t,r=g({},t,{checked:o});return h.jsxs(Be,{className:a.root,ownerState:r,children:[h.jsx(qe,{fontSize:n,className:a.background,ownerState:r}),h.jsx(Ie,{fontSize:n,className:a.dot,ownerState:r})]})}const $e=u.exports.createContext(void 0),oe=$e;function Ge(){return u.exports.useContext(oe)}function Pe(t){return D("MuiRadio",t)}const je=L("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),_=je,Me=["checked","checkedIcon","color","icon","name","onChange","size","className"],Te=t=>{const{classes:o,color:a}=t,n={root:["root",`color${V(a)}`]};return g({},o,K(n,Pe,o))},ze=B(he,{shouldForwardProp:t=>se(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:a}=t;return[o.root,o[`color${V(a.color)}`]]}})(({theme:t,ownerState:o})=>g({color:(t.vars||t).palette.text.secondary,"&:hover":{backgroundColor:t.vars?`rgba(${o.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[o.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:le(o.color==="default"?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${_.checked}`]:{color:(t.vars||t).palette[o.color].main}},{[`&.${_.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function _e(t,o){return typeof o=="object"&&o!==null?t===o:String(t)===String(o)}const A=h.jsx(te,{checked:!0}),N=h.jsx(te,{}),Ae=u.exports.forwardRef(function(o,a){var n,r;const i=U({props:o,name:"MuiRadio"}),{checked:l,checkedIcon:d=A,color:p="primary",icon:c=N,name:m,onChange:b,size:x="medium",className:S}=i,R=j(i,Me),k=g({},i,{color:p,size:x}),f=Te(k),v=Ge();let F=l;const C=ce(b,v&&v.onChange);let w=m;return v&&(typeof F>"u"&&(F=_e(v.value,i.value)),typeof w>"u"&&(w=v.name)),h.jsx(ze,g({type:"radio",icon:u.exports.cloneElement(c,{fontSize:(n=N.props.fontSize)!=null?n:x}),checkedIcon:u.exports.cloneElement(d,{fontSize:(r=A.props.fontSize)!=null?r:x}),ownerState:k,classes:f,name:w,checked:F,onChange:C,ref:a,className:O(f.root,S)},R))}),at=Ae,Ne=["actions","children","defaultValue","name","onChange","value"],De=u.exports.forwardRef(function(o,a){const{actions:n,children:r,defaultValue:i,name:l,onChange:d,value:p}=o,c=j(o,Ne),m=u.exports.useRef(null),[b,x]=ie({controlled:p,default:i,name:"RadioGroup"});u.exports.useImperativeHandle(n,()=>({focus:()=>{let f=m.current.querySelector("input:not(:disabled):checked");f||(f=m.current.querySelector("input:not(:disabled)")),f&&f.focus()}}),[]);const S=ue(a,m),R=f=>{x(f.target.value),d&&d(f,f.target.value)},k=de(l);return h.jsx(oe.Provider,{value:{name:k,onChange:R,value:b},children:h.jsx(Se,g({role:"radiogroup",ref:S},c,{children:r}))})}),nt=De,Le=M(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Ue=({formStuff:t,formValue:o,setFormValue:a,setShowForm:n})=>{const[r,i]=y(q);return e.createElement(xe,{style:{padding:"4%",marginBottom:"4%"},elevation:3},e.createElement(E,{container:!0,spacing:3},e.createElement(E,{item:!0,xs:4},"Symbol: ",t.symbol),e.createElement(E,{item:!0,xs:8},"Name: ",t.name),e.createElement(E,{item:!0,xs:4},"Type: ",t.type),e.createElement(E,{item:!0,xs:8},"Region: ",t.region),e.createElement(E,{item:!0,xs:6},e.createElement(I,{label:"Quantity",type:"number",value:o.quantity,onChange:l=>{a({...o,quantity:l.target.value})}})),e.createElement(E,{item:!0,xs:6},e.createElement(I,{label:"Price",type:"number",value:o.price,onChange:l=>{a({...o,price:l.target.value})}})),e.createElement(E,{item:!0,xs:12},e.createElement(P,{fullWidth:!0,onClick:()=>{i([...r,{ticker:t.symbol,quantity:o.quantity,price:o.price}]),n(!1)}},"submit"))))},Oe=({setErrorMessage:t})=>{const[o,a]=y(q),[n,r]=y(re),[i]=y(ne);return u.exports.useEffect(()=>{async function l(p){return await H.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${p}&apikey=${i}`).then(c=>c.data["Global Quote"])}async function d(){if(o.length>0){let p=[];for(let c of o){let m=await l(c.ticker);if(m===void 0){t("Alpha Vantage only allows 5 requests every minute.");return}else c.high=parseFloat(m["03. high"]),c.low=parseFloat(m["04. low"]),c.open=parseFloat(m["02. open"]),c.pl=parseFloat(((m["02. open"]-parseFloat(c.price))/parseFloat(c.price)*100).toFixed(2));p.push(c)}a(p),t(void 0)}}d()},[n,o]),o.length===0?e.createElement(e.Fragment,null):e.createElement(Q,{style:{margin:"0 0 3% 0"}},e.createElement(W,null,e.createElement(J,null,e.createElement($,null,e.createElement(s,null,"Ticker"),e.createElement(s,null,"Quantity"),e.createElement(s,null,"Cost"),e.createElement(s,null,"Open"),e.createElement(s,null,"High"),e.createElement(s,null,"Low"),e.createElement(s,null,"P/L (%)"),e.createElement(s,null,"Delete"))),e.createElement(Y,null,o.map((l,d)=>e.createElement($,{key:d},e.createElement(s,null,l.ticker),e.createElement(s,null,l.quantity),e.createElement(s,null,l.price),e.createElement(s,null,l.open),e.createElement(s,null,l.high),e.createElement(s,null,l.low),e.createElement(s,{style:{color:l.pl>0?"green":"red"}},l.pl>0&&"+",l.pl),e.createElement(s,null,e.createElement(X,{onClick:()=>{let p=o;p.splice(d,1),a(p),r(!n)}},e.createElement(Le,null))))))))};var T={},Ke=fe.exports;Object.defineProperty(T,"__esModule",{value:!0});var ae=T.default=void 0,Ve=Ke(pe()),He=me(),Qe=(0,Ve.default)((0,He.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");ae=T.default=Qe;const We=({searchResults:t,setShowForm:o,setFormStuff:a,setShowSearchResults:n})=>e.createElement(Q,{style:{margin:"0 0 3% 0"}},e.createElement(W,null,e.createElement(J,null,e.createElement($,null,e.createElement(s,null,"Symbol"),e.createElement(s,null,"Name"),e.createElement(s,null,"Type"),e.createElement(s,null,"Region"),e.createElement(s,null,"Correct?"))),e.createElement(Y,null,t.map((r,i)=>e.createElement($,{key:i},e.createElement(s,null,r["1. symbol"]),e.createElement(s,null,r["2. name"]),e.createElement(s,null,r["3. type"]),e.createElement(s,null,r["4. region"]),e.createElement(s,null,e.createElement(X,{onClick:()=>{a({symbol:r["1. symbol"],name:r["2. name"],type:r["3. type"],region:r["4. region"]}),o(!0),n(!1)}},e.createElement(ae,null)))))))),ne=Z("apiKey","111111111"),q=Z("boring",[]),re=Ee(!1),rt=()=>{const[t,o]=y(ne);y(q);const[a,n]=u.exports.useState(""),[r,i]=u.exports.useState(!1),[l,d]=u.exports.useState([]),[p,c]=u.exports.useState(!1),[m,b]=u.exports.useState(),[x,S]=u.exports.useState({price:"",quantity:""}),[R,k]=u.exports.useState(),[f,v]=y(re);async function F(C){await H.get(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${C}&apikey=${t}`).then(w=>{d(w.data.bestMatches)})}return e.createElement("div",{style:{margin:"0 4% 10% 4%"}},e.createElement(z,{style:{color:"red"}},R!==void 0&&R),e.createElement(z,{variant:"h4",style:{margin:"3% 0 3% 0"}},"Boring"," ",e.createElement("span",{style:{color:G()>=0?"green":"red"}},G()>0&&"+",G(),"%")),e.createElement(I,{label:"Alpha Vantage API key",size:"small",value:t,onChange:C=>o(C.target.value),style:{width:"60%",margin:"0 0 3% 0"}}),e.createElement(I,{label:"Add new boring equity",size:"small",value:a,onChange:C=>n(C.target.value),style:{width:"60%",margin:"0 0 3% 0"}}),e.createElement(P,{disabled:!a,onClick:()=>{F(a),i(!0)}},"search"),r&&a!==""&&a!=="bonds"&&e.createElement(We,{setShowForm:c,setShowSearchResults:i,setFormStuff:b,searchResults:l}),p&&a==="bonds"&&e.createElement(Ue,{formStuff:m,formValue:x,setFormValue:S,setShowForm:c}),e.createElement(Oe,{setErrorMessage:k}),e.createElement(P,{onClick:()=>{v(!f)}},"refresh"))};function G(){const[t]=y(q);let o=t.reduce((a,n)=>a+=parseFloat(n.quantity)*parseFloat(n.price),0);return t.reduce((a,n)=>{let r=parseFloat(n.price),i=parseFloat(n.quantity),l=r*i/o,d=(n.open||r)-r;return ee.exports.round(a+l*d,2)},0)}function st(){const[t]=y(q);return ee.exports.round(t.reduce((o,a)=>o+=parseFloat(a.quantity)*(a.open||parseFloat(a.price)),0)*1.35,2)}export{rt as B,nt as R,at as a,G as c,st as t};
